(this["webpackJsonpwingeat-clone-coding"]=this["webpackJsonpwingeat-clone-coding"]||[]).push([[0],{55:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(28),i=c.n(a),u=c(35),s=c(10),o=c(8),d=c(55),l=c.n(d),j=c(24),b=c.n(j),f=c(2),p=b.a.bind(l.a),O=function(e){var t=e.countProductCart,c=e.handleMovePage;return Object(f.jsxs)("div",{className:p("header"),children:[Object(f.jsx)("div",{className:p("header__top"),children:Object(f.jsxs)("div",{className:p("header__top__cart"),onClick:function(){return c("/cart")},children:[Object(f.jsx)("div",{className:p("header__top__cart__count-product"),children:t}),Object(f.jsx)("span",{children:"\uc7a5\ubc14\uad6c\ub2c8"})]})}),Object(f.jsx)("div",{className:p("header__main"),children:Object(f.jsx)("div",{className:p("header__main__logo"),onClick:function(){return c("/")},children:Object(f.jsx)("img",{src:"https://image.wingeat.com/logo/images/we_logo_center.png",alt:"logo"})})})]})},_=c(9),g=c.n(_),m=c(7),v=c(13),h=c(100),x=c(101),N=c(39),S=c(56),C=c(57),k=c(40),y=c.n(k),w=function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,null,[{key:"getFeature",value:function(){var e=Object(N.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://node.wingeat.com/test-api/features");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getList",value:function(){var e=Object(N.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://node.wingeat.com/test-api/items?page=".concat(t));case 2:return c=e.sent,n=c.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),P=g.a.mark(D),E=g.a.mark(z),I=g.a.mark(W),F=Object(h.a)({SUCCESS_LIST:function(e){return{list:e}},SUCCESS_FEATURE:function(e){return{feature:e}},COUNTING_CART:function(e){return{length:e}}},"PENDING","FAIL"),T=F.successList,L=F.successFeature,A=F.countingCart,M=F.pending,R=F.fail,U=Object(x.a)({SUCCESS_LIST:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,list:e.list.concat(t.payload.list)})},SUCCESS_FEATURE:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{feature:t.payload.feature})},COUNTING_CART:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{countCart:t.payload.length})},PENDING:function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:null})},FAIL:function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:!0})}},{list:[],feature:[],loading:!1,error:null,countCart:0}),J=Object(h.a)({GET_LIST:function(e){return{pageNumber:e}}},"GET_FEATURE"),B=J.getList,G=J.getFeature;function D(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(B,z);case 2:return e.next=4,Object(v.d)(G,W);case 4:case"end":return e.stop()}}),P)}function z(e){var t;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(v.c)(M());case 3:return c.next=5,Object(v.b)(w.getList,e.payload.pageNumber);case 5:return t=c.sent,c.next=8,Object(v.c)(T(t));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(v.c)(R());case 14:case"end":return c.stop()}}),E,null,[[0,10]])}function W(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v.b)(w.getFeature);case 3:return e=t.sent,t.next=6,Object(v.c)(L(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(v.c)(R());case 12:case"end":return t.stop()}}),I,null,[[0,8]])}var X=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.shopping.countCart}));r.a.useEffect((function(){e(A(localStorage.length))}),[t,e]);var c=r.a.useCallback((function(t){e(Object(o.d)(t))}),[e]);return Object(f.jsx)(O,{countProductCart:t,handleMovePage:c})},q=c(16),H=c(58),K=c.n(H),Q=b.a.bind(K.a),V=function(e){var t=e.product,c=e.clickAddingProductShoppingCart,n=t.image,r=t.itemName,a=t.price;return Object(f.jsxs)("div",{className:Q("product"),children:[Object(f.jsx)("div",{className:Q("product-image"),onClick:function(){return c(t)},children:Object(f.jsx)("img",{src:"https://image.wingeat.com/".concat(n),alt:"product-".concat(r)})}),Object(f.jsx)("div",{className:Q("product-name"),children:Object(f.jsx)("span",{children:r})}),Object(f.jsx)("div",{className:Q("product-price"),children:Object(f.jsxs)("span",{children:[a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]})})]})},Y=function(e){var t=e.data,c=(e.loading,e.fetchMoreRef),n=e.clickAddingProductShoppingCart;return Object(f.jsxs)("div",{className:Q("list"),children:[Object(f.jsx)("div",{className:Q("list-subject"),children:Object(f.jsx)("p",{children:"\uc719\uc787 MADE"})}),Object(f.jsx)("div",{className:Q("product-list"),children:t.map((function(e,t){return Object(f.jsx)(V,{product:e,clickAddingProductShoppingCart:n},t)}))}),Object(f.jsx)("div",{className:Q("fetch-more-ref"),ref:c})]})},Z=function(){var e=Object(s.d)(),t=r.a.useCallback((function(t){var c=Object(m.a)({},t),n=c.id;delete c.id;var r=localStorage.getItem(n);c.count=r?JSON.parse(r).count+1:1,c.selected=!1,localStorage.setItem(n,JSON.stringify(c));var a=localStorage.length;e(A(a)),alert("\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \uc0c1\ud488\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}),[e]),c=function(e){var t=r.a.useState(1),c=Object(q.a)(t,2),n=c[0],a=c[1];r.a.useLayoutEffect((function(){e(B(n))}),[e,n]);var i=r.a.useRef(null),u=Object(s.e)((function(e){return e.shopping})),o=u.list,d=u.loading;return r.a.useLayoutEffect((function(){var e;return i.current&&(e=new IntersectionObserver((function(e){Object(q.a)(e,1)[0].isIntersecting&&a((function(e){return e<6?e+1:e}))}))).observe(i.current),function(){return e&&e.disconnect()}}),[i]),{list:o,loading:d,target:i}}(e),n=c.list,a=c.loading,i=c.target;return Object(f.jsx)(Y,{data:n||[],loading:a,fetchMoreRef:i,clickAddingProductShoppingCart:t})},$=c(59),ee=c.n($),te=b.a.bind(ee.a),ce=function(e){var t=e.prev,c=e.cur,n=e.next,r=e.currentFeatrue,a=e.imageUrl;return Object(f.jsx)("img",{className:te("feature__products__image",t===r&&"prev",c===r&&"active",n===r&&"next"),src:"https://image.wingeat.com/".concat(a),alt:"product-img"})},ne=function(e){var t=e.data,c=e.currentFeatrue,n=e.isMobile,r=e.clickMoveFeatureImage;return Object(f.jsx)("div",{className:te("feature"),children:Object(f.jsx)("div",{className:te("feature__products"),children:Object(f.jsxs)("div",{className:te("feature__products__images-wrapper"),children:[Object(f.jsx)("div",{className:te("feature__products__slider"),children:n?Object(f.jsx)("div",{className:te("feature__products__slider__number"),children:"".concat(c,"/").concat(t.length)}):Array(t.length).fill(0).map((function(e,t){return Object(f.jsx)("div",{className:te("feature__products__slider__dot",t+1===c&&"active"),onClick:function(){return r(t+1)}},t)}))}),Object(f.jsx)("div",{className:te("feature__products__images"),children:t.map((function(e,n){var r=t.length,a=n+1;return Object(f.jsx)(ce,{currentFeatrue:c,prev:a===r?1:a+1,cur:a,next:1===a?r:a-1,imageUrl:e.image},n)}))})]})})})},re=function(){var e=function(){var e=Object(s.d)();return r.a.useEffect((function(){e(G())}),[e]),{feature:Object(s.e)((function(e){return e.shopping.feature}))}}().feature,t=function(){var e=r.a.useState(!0),t=Object(q.a)(e,2),c=t[0],n=t[1],a=r.a.useState(!0),i=Object(q.a)(a,2),u=i[0],s=i[1],o=r.a.useState(1),d=Object(q.a)(o,2),l=d[0],j=d[1];r.a.useLayoutEffect((function(){s((function(){return!0}))}),[u]),r.a.useLayoutEffect((function(){var e;return c&&u&&(e=setTimeout((function(){j((function(e){return e+1>5?1:e+1})),s((function(){return!1}))}),3e3)),function(){clearTimeout(e)}}),[c,l]);var b=r.a.useState(!1),f=Object(q.a)(b,2),p=f[0],O=f[1];return r.a.useEffect((function(){var e=function(){var e;clearTimeout(e),e=setTimeout((function(){O(window.innerWidth<700)}),100)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),{currentFeatrue:l,isMobile:p,clickMoveFeatureImage:r.a.useCallback((function(e){j((function(){return e}))}),[]),setAutoPlay:n}}(),c=t.currentFeatrue,n=t.clickMoveFeatureImage,a=t.isMobile;return Object(f.jsx)(ne,{data:e||[],currentFeatrue:c,isMobile:a,clickMoveFeatureImage:n})},ae=function(){return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(X,{}),Object(f.jsx)(re,{}),Object(f.jsx)(Z,{})]})},ie=c(60),ue=c.n(ie),se=b.a.bind(ue.a),oe=function(e){var t=e.product,c=e.toggleProductPayment,n=e.clickRemoveProductCart,r=e.handleCountingProduct;return Object(f.jsxs)("div",{className:se("cart__product"),children:[Object(f.jsxs)("div",{className:se("cart__product__header"),children:[Object(f.jsxs)("div",{className:se("cart__product__header__info"),children:[Object(f.jsx)("input",{type:"checkbox",checked:t.selected,onChange:function(){return c(t.id)}}),t.itemName]}),Object(f.jsx)("div",{className:se("cart__product__header__remove"),children:Object(f.jsx)("button",{onClick:function(){return n(t.id)},children:"X"})})]}),Object(f.jsxs)("div",{className:se("cart__product__body"),children:[Object(f.jsx)("div",{className:se("cart__product__body__image"),children:Object(f.jsx)("img",{src:"https://image.wingeat.com/".concat(t.image),alt:"img"})}),Object(f.jsxs)("div",{className:se("cart__product__body__info"),children:[Object(f.jsxs)("div",{className:se("cart__product__body__price"),children:[t.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]}),Object(f.jsxs)("div",{className:se("cart__product__body__count"),onClick:function(e){return r(e,t.id)},children:[Object(f.jsx)("button",{"data-value":"-1",children:"-"}),Object(f.jsx)("div",{className:se("cart__product__body__display__count"),children:t.count}),Object(f.jsx)("button",{"data-value":"+1",children:"+"})]})]})]}),Object(f.jsx)("div",{className:se("cart__product__footer"),children:Object(f.jsxs)("p",{children:["\ud569\uacc4: ",(t.price*t.count).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]})})]})},de=function(e){var t=e.data,c=e.paymentPrice,n=e.clickRemoveProductCart,r=e.toggleProductPayment,a=e.handleCountingProduct;return Object(f.jsxs)("div",{className:se("cart"),children:[Object(f.jsx)("div",{className:se("cart__subject"),children:"\uc7a5\ubc14\uad6c\ub2c8"}),Object(f.jsxs)("div",{className:se("cart__product-list-wrapper"),children:[Object(f.jsx)("div",{className:se("cart__product-list"),children:t.length?t.map((function(e,t){return Object(f.jsx)(oe,{product:e,toggleProductPayment:r,clickRemoveProductCart:n,handleCountingProduct:a},t)})):Object(f.jsx)("div",{className:se("cart__product-list__not-found"),children:"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ub2f4\uae34 \uc0c1\ud488\uc774 \uc5c6\uc74c"})}),Object(f.jsxs)("div",{className:se("cart__product-list__sum-account"),children:[Object(f.jsxs)("div",{className:se("cart__product-list__display-account"),children:[Object(f.jsx)("span",{children:"\uacb0\uc81c \uc608\uc815 \uae08\uc561"}),Object(f.jsxs)("span",{className:se("cart__product-list__payment-account"),children:[c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]})]}),Object(f.jsx)("div",{className:se("cart__product-list__payment"),children:Object(f.jsx)("button",{children:"\uc8fc\ubb38\ud558\uae30"})})]})]})]})},le=function(){var e=r.a.useState(null),t=Object(q.a)(e,2),c=t[0],n=t[1],a=r.a.useState(0),i=Object(q.a)(a,2),u=i[0],s=i[1];r.a.useEffect((function(){!function(e){for(var t=[],c=0,r=Object.keys(e);c<r.length;c++){var a=r[c],i=e.getItem(a);if(i){var u=Object.assign(JSON.parse(i),{id:a});t.push(u)}}n((function(){return t}))}(localStorage)}),[]),r.a.useEffect((function(){c&&s((function(){return c.reduce((function(e,t){return t.selected?e+t.count*t.price:e}),0)}))}),[c]);var o=r.a.useCallback((function(e){localStorage.removeItem(e),n((function(){return c.filter((function(t){return t.id!==e}))}))}),[c]),d=r.a.useCallback((function(e){n((function(){return c.map((function(t){return t.id===e?Object(m.a)(Object(m.a)({},t),{},{selected:!t.selected}):Object(m.a)({},t)}))}));var t=JSON.parse(localStorage.getItem(e));t.selected=!t.selected,localStorage.setItem(e,JSON.stringify(t))}),[c]),l=r.a.useCallback((function(e,t){var r=Number(e.target.dataset.value);if(r){n((function(){return c.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{count:e.count+r>0?e.count+r:1}):Object(m.a)({},e)}))}));var a=JSON.parse(localStorage.getItem(t)),i=Number(a.count)+r;a.count=i>0?i:1,localStorage.setItem(t,JSON.stringify(a))}}),[c]);return Object(f.jsx)(de,{data:c||[],paymentPrice:u,clickRemoveProductCart:o,toggleProductPayment:d,handleCountingProduct:l})},je=function(){return Object(f.jsx)(le,{})},be=c(23),fe=c(63),pe=c(21),Oe=c(53),_e=c(31),ge=function(e){return Object(be.c)({shopping:U,router:Object(_e.a)(e)})},me=c(62),ve=g.a.mark(he);function he(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([D()]);case 2:case"end":return e.stop()}}),ve)}var xe=Object(pe.a)(),Ne=Object(fe.a)(),Se=function(){var e=Object(be.e)(ge(xe),Object(be.a)(Object(Oe.a)(xe),Ne));return Ne.run(he),e},Ce=(c(96),Se()),ke=function(){return Object(f.jsx)(s.a,{store:Ce,children:Object(f.jsx)(u.b,{history:xe,children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/cart",component:je}),Object(f.jsx)(u.a,{exact:!0,path:"/",component:ae})]})})})},ye=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(f.jsx)(ke,{}),document.getElementById("root")),ye()}},[[97,1,2]]]);
//# sourceMappingURL=main.ee1f7258.chunk.js.map