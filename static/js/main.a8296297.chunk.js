(this["webpackJsonpwingeat-clone-coding"]=this["webpackJsonpwingeat-clone-coding"]||[]).push([[0],{55:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(30),i=c.n(a),u=c(63),s=c(6),o=c(12),d=c(27),l=c(9),j=c(55),b=c.n(j),f=c(25),p=c.n(f),O=c(2),_=p.a.bind(b.a),g=function(e){var t=e.countProductCart,c=e.handleMovePage;return Object(O.jsxs)("div",{className:_("header"),children:[Object(O.jsx)("div",{className:_("header__top"),children:Object(O.jsxs)("div",{className:_("header__top__cart"),onClick:function(){return c("/cart")},children:[Object(O.jsx)("div",{className:_("header__top__cart__count-product"),children:t}),Object(O.jsx)("span",{children:"\uc7a5\ubc14\uad6c\ub2c8"})]})}),Object(O.jsx)("div",{className:_("header__main"),children:Object(O.jsx)("div",{className:_("header__main__logo"),onClick:function(){return c("/")},children:Object(O.jsx)("img",{src:"https://image.wingeat.com/logo/images/we_logo_center.png",alt:"logo"})})})]})},m=c(11),v=c.n(m),h=c(8),x=c(17),N=c(100),S=c(101),C=c(40),k=c(56),y=c(57),w=c(41),P=c.n(w),E=function(){function e(){Object(k.a)(this,e)}return Object(y.a)(e,null,[{key:"getFeature",value:function(){var e=Object(C.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("https://node.wingeat.com/test-api/features");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getList",value:function(){var e=Object(C.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("https://node.wingeat.com/test-api/items?page=".concat(t));case 2:return c=e.sent,n=c.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=v.a.mark(W),F=v.a.mark(X),T=v.a.mark(q),L=Object(N.a)({SUCCESS_LIST:function(e){return{list:e}},SUCCESS_FEATURE:function(e){return{feature:e}},COUNTING_CART:function(e){return{length:e}}},"PENDING","FAIL"),A=L.successList,M=L.successFeature,R=L.countingCart,U=L.pending,J=L.fail,B=Object(S.a)({SUCCESS_LIST:function(e,t){return Object(h.a)(Object(h.a)({},e),{},{loading:!1,list:e.list.concat(t.payload.list)})},SUCCESS_FEATURE:function(e,t){return Object(h.a)(Object(h.a)({},e),{},{feature:t.payload.feature})},COUNTING_CART:function(e,t){return Object(h.a)(Object(h.a)({},e),{},{countCart:t.payload.length})},PENDING:function(e){return Object(h.a)(Object(h.a)({},e),{},{loading:!0,error:null})},FAIL:function(e){return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:!0})}},{list:[],feature:[],loading:!1,error:null,countCart:0}),G=Object(N.a)({GET_LIST:function(e){return{pageNumber:e}}},"GET_FEATURE"),D=G.getList,z=G.getFeature;function W(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(D,X);case 2:return e.next=4,Object(x.d)(z,q);case 4:case"end":return e.stop()}}),I)}function X(e){var t;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(x.c)(U());case 3:return c.next=5,Object(x.b)(E.getList,e.payload.pageNumber);case 5:return t=c.sent,c.next=8,Object(x.c)(A(t));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(x.c)(J());case 14:case"end":return c.stop()}}),F,null,[[0,10]])}function q(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.b)(E.getFeature);case 3:return e=t.sent,t.next=6,Object(x.c)(M(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(x.c)(J());case 12:case"end":return t.stop()}}),T,null,[[0,8]])}var H=function(){var e=Object(o.d)(),t=Object(o.e)((function(e){return e.shopping.countCart}));r.a.useEffect((function(){e(R(localStorage.length))}),[t,e]);var c=r.a.useCallback((function(t){e(Object(l.d)(t))}),[e]);return Object(O.jsx)(g,{countProductCart:t,handleMovePage:c})},K=c(20),Q=c(58),V=c.n(Q),Y=p.a.bind(V.a),Z=function(e){var t=e.product,c=e.clickAddingProductShoppingCart,n=t.image,r=t.itemName,a=t.price;return Object(O.jsxs)("div",{className:Y("product"),children:[Object(O.jsx)("div",{className:Y("product-image"),onClick:function(){return c(t)},children:Object(O.jsx)("img",{src:"https://image.wingeat.com/".concat(n),alt:"product-".concat(r)})}),Object(O.jsx)("div",{className:Y("product-name"),children:Object(O.jsx)("span",{children:r})}),Object(O.jsx)("div",{className:Y("product-price"),children:Object(O.jsxs)("span",{children:[a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]})})]})},$=function(e){var t=e.data,c=(e.loading,e.fetchMoreRef),n=e.clickAddingProductShoppingCart;return Object(O.jsxs)("div",{className:Y("list"),children:[Object(O.jsx)("div",{className:Y("list-subject"),children:Object(O.jsx)("p",{children:"\uc719\uc787 MADE"})}),Object(O.jsx)("div",{className:Y("product-list"),children:t.map((function(e,t){return Object(O.jsx)(Z,{product:e,clickAddingProductShoppingCart:n},t)}))}),Object(O.jsx)("div",{className:Y("fetch-more-ref"),ref:c})]})},ee=function(){var e=Object(o.d)(),t=r.a.useCallback((function(t){var c=Object(h.a)({},t),n=c.id;delete c.id;var r=localStorage.getItem(n);c.count=r?JSON.parse(r).count+1:1,c.selected=!1,localStorage.setItem(n,JSON.stringify(c));var a=localStorage.length;e(R(a)),alert("\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \uc0c1\ud488\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}),[e]),c=function(e){var t=r.a.useState(1),c=Object(K.a)(t,2),n=c[0],a=c[1];r.a.useLayoutEffect((function(){e(D(n))}),[e,n]);var i=r.a.useRef(null),u=Object(o.e)((function(e){return e.shopping})),s=u.list,d=u.loading;return r.a.useLayoutEffect((function(){var e;return i.current&&(e=new IntersectionObserver((function(e){Object(K.a)(e,1)[0].isIntersecting&&a((function(e){return e<6?e+1:e}))}))).observe(i.current),function(){return e&&e.disconnect()}}),[i]),{list:s,loading:d,target:i}}(e),n=c.list,a=c.loading,i=c.target;return Object(O.jsx)($,{data:n||[],loading:a,fetchMoreRef:i,clickAddingProductShoppingCart:t})},te=c(59),ce=c.n(te),ne=p.a.bind(ce.a),re=function(e){var t=e.prev,c=e.cur,n=e.next,r=e.currentFeatrue,a=e.imageUrl;return Object(O.jsx)("img",{className:ne("feature__products__image",t===r&&"prev",c===r&&"active",n===r&&"next"),src:"https://image.wingeat.com/".concat(a),alt:"product-img"})},ae=function(e){var t=e.data,c=e.currentFeatrue,n=e.isMobile,r=e.clickMoveFeatureImage;return Object(O.jsx)("div",{className:ne("feature"),children:Object(O.jsx)("div",{className:ne("feature__products"),children:Object(O.jsxs)("div",{className:ne("feature__products__images-wrapper"),children:[Object(O.jsx)("div",{className:ne("feature__products__slider"),children:n?Object(O.jsx)("div",{className:ne("feature__products__slider__number"),children:"".concat(c,"/").concat(t.length)}):Array(t.length).fill(0).map((function(e,t){return Object(O.jsx)("div",{className:ne("feature__products__slider__dot",t+1===c&&"active"),onClick:function(){return r(t+1)}},t)}))}),Object(O.jsx)("div",{className:ne("feature__products__images"),children:t.map((function(e,n){var r=t.length,a=n+1;return Object(O.jsx)(re,{currentFeatrue:c,prev:a===r?1:a+1,cur:a,next:1===a?r:a-1,imageUrl:e.image},n)}))})]})})})},ie=function(){var e=function(){var e=Object(o.d)();return r.a.useEffect((function(){e(z())}),[e]),{feature:Object(o.e)((function(e){return e.shopping.feature}))}}().feature,t=function(){var e=r.a.useState(!0),t=Object(K.a)(e,2),c=t[0],n=t[1],a=r.a.useState(!0),i=Object(K.a)(a,2),u=i[0],s=i[1],o=r.a.useState(1),d=Object(K.a)(o,2),l=d[0],j=d[1];r.a.useLayoutEffect((function(){s((function(){return!0}))}),[u]),r.a.useLayoutEffect((function(){var e;return c&&u&&(e=setTimeout((function(){j((function(e){return e+1>5?1:e+1})),s((function(){return!1}))}),3e3)),function(){clearTimeout(e)}}),[c,l]);var b=r.a.useState(!1),f=Object(K.a)(b,2),p=f[0],O=f[1];return r.a.useEffect((function(){var e=function(){var e;clearTimeout(e),e=setTimeout((function(){O(window.innerWidth<700)}),100)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),{currentFeatrue:l,isMobile:p,clickMoveFeatureImage:r.a.useCallback((function(e){j((function(){return e}))}),[]),setAutoPlay:n}}(),c=t.currentFeatrue,n=t.clickMoveFeatureImage,a=t.isMobile;return Object(O.jsx)(ae,{data:e||[],currentFeatrue:c,isMobile:a,clickMoveFeatureImage:n})},ue=function(){return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(H,{}),Object(O.jsx)(ie,{}),Object(O.jsx)(ee,{})]})},se=c(60),oe=c.n(se),de=p.a.bind(oe.a),le=function(e){var t=e.product,c=e.toggleProductPayment,n=e.clickRemoveProductCart,r=e.handleCountingProduct;return Object(O.jsxs)("div",{className:de("cart__product"),children:[Object(O.jsxs)("div",{className:de("cart__product__header"),children:[Object(O.jsxs)("div",{className:de("cart__product__header__info"),children:[Object(O.jsx)("input",{type:"checkbox",checked:t.selected,onChange:function(){return c(t.id)}}),t.itemName]}),Object(O.jsx)("div",{className:de("cart__product__header__remove"),children:Object(O.jsx)("button",{onClick:function(){return n(t.id)},children:"X"})})]}),Object(O.jsxs)("div",{className:de("cart__product__body"),children:[Object(O.jsx)("div",{className:de("cart__product__body__image"),children:Object(O.jsx)("img",{src:"https://image.wingeat.com/".concat(t.image),alt:"img"})}),Object(O.jsxs)("div",{className:de("cart__product__body__info"),children:[Object(O.jsxs)("div",{className:de("cart__product__body__price"),children:[t.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]}),Object(O.jsxs)("div",{className:de("cart__product__body__count"),onClick:function(e){return r(e,t.id)},children:[Object(O.jsx)("button",{"data-value":"-1",children:"-"}),Object(O.jsx)("div",{className:de("cart__product__body__display__count"),children:t.count}),Object(O.jsx)("button",{"data-value":"+1",children:"+"})]})]})]}),Object(O.jsx)("div",{className:de("cart__product__footer"),children:Object(O.jsxs)("p",{children:["\ud569\uacc4: ",(t.price*t.count).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]})})]})},je=function(e){var t=e.data,c=e.paymentPrice,n=e.clickRemoveProductCart,r=e.toggleProductPayment,a=e.handleCountingProduct;return Object(O.jsxs)("div",{className:de("cart"),children:[Object(O.jsx)("div",{className:de("cart__subject"),children:"\uc7a5\ubc14\uad6c\ub2c8"}),Object(O.jsxs)("div",{className:de("cart__product-list-wrapper"),children:[Object(O.jsx)("div",{className:de("cart__product-list"),children:t.length?t.map((function(e,t){return Object(O.jsx)(le,{product:e,toggleProductPayment:r,clickRemoveProductCart:n,handleCountingProduct:a},t)})):Object(O.jsx)("div",{className:de("cart__product-list__not-found"),children:"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ub2f4\uae34 \uc0c1\ud488\uc774 \uc5c6\uc74c"})}),Object(O.jsxs)("div",{className:de("cart__product-list__sum-account"),children:[Object(O.jsxs)("div",{className:de("cart__product-list__display-account"),children:[Object(O.jsx)("span",{children:"\uacb0\uc81c \uc608\uc815 \uae08\uc561"}),Object(O.jsxs)("span",{className:de("cart__product-list__payment-account"),children:[c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\uc6d0"]})]}),Object(O.jsx)("div",{className:de("cart__product-list__payment"),children:Object(O.jsx)("button",{children:"\uc8fc\ubb38\ud558\uae30"})})]})]})]})},be=function(){var e=r.a.useState(null),t=Object(K.a)(e,2),c=t[0],n=t[1],a=r.a.useState(0),i=Object(K.a)(a,2),u=i[0],s=i[1];r.a.useEffect((function(){!function(e){for(var t=[],c=0,r=Object.keys(e);c<r.length;c++){var a=r[c],i=e.getItem(a);if(i){var u=Object.assign(JSON.parse(i),{id:a});t.push(u)}}n((function(){return t}))}(localStorage)}),[]),r.a.useEffect((function(){c&&s((function(){return c.reduce((function(e,t){return t.selected?e+t.count*t.price:e}),0)}))}),[c]);var o=r.a.useCallback((function(e){localStorage.removeItem(e),n((function(){return c.filter((function(t){return t.id!==e}))}))}),[c]),d=r.a.useCallback((function(e){n((function(){return c.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},{selected:!t.selected}):Object(h.a)({},t)}))}));var t=JSON.parse(localStorage.getItem(e));t.selected=!t.selected,localStorage.setItem(e,JSON.stringify(t))}),[c]),l=r.a.useCallback((function(e,t){var r=Number(e.target.dataset.value);if(r){n((function(){return c.map((function(e){return e.id===t?Object(h.a)(Object(h.a)({},e),{},{count:e.count+r>0?e.count+r:1}):Object(h.a)({},e)}))}));var a=JSON.parse(localStorage.getItem(t)),i=Number(a.count)+r;a.count=i>0?i:1,localStorage.setItem(t,JSON.stringify(a))}}),[c]);return Object(O.jsx)(je,{data:c||[],paymentPrice:u,clickRemoveProductCart:o,toggleProductPayment:d,handleCountingProduct:l})},fe=function(){return Object(O.jsx)(be,{})},pe=c(24),Oe=c(64),_e=c(13),ge=c(53),me=function(e){return Object(pe.c)({shopping:B,router:Object(d.b)(e)})},ve=c(62),he=v.a.mark(xe);function xe(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([W()]);case 2:case"end":return e.stop()}}),he)}var Ne=Object(_e.a)(),Se=Object(Oe.a)(),Ce=function(){var e=Object(pe.e)(me(Ne),Object(pe.a)(Object(ge.a)(Ne),Se));return Se.run(xe),e},ke=(c(97),Ce()),ye=function(){return Object(O.jsx)(o.a,{store:ke,children:Object(O.jsx)(u.a,{children:Object(O.jsx)(d.a,{history:Ne,children:Object(O.jsxs)(s.c,{children:[Object(O.jsx)(s.a,{path:"/cart",component:fe}),Object(O.jsx)(s.a,{exact:!0,path:"/",component:ue})]})})})})},we=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(ye,{}),document.getElementById("root")),we()}},[[98,1,2]]]);
//# sourceMappingURL=main.a8296297.chunk.js.map